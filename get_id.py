import os
import timeit
import resource
start_time = timeit.default_timer()
xid=[i.split('.')[0] for i in os.listdir('train') if '.asm' in i] #all files in train folder
Xt_id=[i.split('.')[0] for i in os.listdir('test') if '.asm' in i] #all files in test folder
f=open('trainLabels.csv')
f.readline()
label={} #Dictonary{<Filename, Class>}
for line in f:
    xx=line.split(',')
    idx=xx[0][1:-1]
    #print 'File Name' , idx 
    label[idx]=int(xx[-1])
    #print 'Class' , int(xx[-1])
f.close()
y=[label[i] for i in xid] #just classes
import pickle
pickle.dump(xid,open('xid_train.p','w'))#dump as python object. Avoids reparsing as text
pickle.dump(Xt_id,open('xid_test.p','w'))
pickle.dump(xid,open('xid.p','w'))
pickle.dump(Xt_id,open('Xt_id.p','w'))
pickle.dump(y,open('y.p','w'))
elapsed = str(int(timeit.default_timer() - start_time))
ram = str(resource.getrusage(resource.RUSAGE_SELF).ru_maxrss / 1000)
op = str('\n' + '***************** For Get ID ****************** ' + '\n' + 'Time ' + elapsed + ' RAM ' + ram)
with open('Log.txt', 'a') as file:
	file.write(op)
	file.write("\n")
print "DONE!"
